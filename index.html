<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar" content="white">
	<meta name="theme-color" content="#fff">
	<meta name="description" content="A 3D architectural visualization studio home page specialized in interior and exterior computer generated imagery.">
	<link rel="apple-touch-icon" href="images/favicon/apple-touch-icon.png">
	<link rel="manifest" href="js/manifest.json">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;700;800&family=League+Spartan:wght@200;300;400;600;800&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Overpass+Mono:wght@300;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<script type="text/javascript" src="js/jquery.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	<link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
	<title>Stable</title>
</head>
<body>
	<style type="text/css">
		.dictionary {
			position: unset;
		}
		.video {
			height: 80vh;
		}
		@media (max-width: 800px) {
			.video {
				aspect-ratio: 1;
			}
		}
		nav .logo {
			opacity: 0;
			pointer-events: none; /* so it doesn't block clicks when hidden */
			transition: opacity 0.3s ease;
		}

		nav .logo.visible {
			opacity: 1;
			pointer-events: auto;
		}
	</style>
	<nav></nav>
	<div class="smooth-wrapper">
		<div class="smooth-content">
			<div class="content">
				<div class="hero">
					<img class="hero-logo" src="images/logo_stable_white.svg" alt="">
					<img class="hero-bg" alt="3d render of a house exterior" src="images/citadel_00.webp">
				</div>
				<a href="project_citadel.html" class="feature_description flip-click"><br>
					<div class="flip-mask">
						<div class="default-text">GO TO PROJECT â†’</div>
					</div>
				</a>
				<div class="dictionary-stable">
					<div>
						<div class="title">Stable</div>
						<div class="definition">1. An architectural visualization studio specialized in interior and exterior computer generated imagery and interactive experiences.</div>
						<div class="definition">2. A bridge from planning to seeing.</div>
					</div>
				</div>
				<section class="width-100">
					<a href="project_breitnerpayne.html">
						<img class="project-logo" src="images/logo_breitnerpayne2.svg">
					</a>
					<div class="type">project</div>
					<div class="bp-container">
						<img class="bp-image" data-target="factory" src="images/breitnerpayne_aerial2_ui.webp">
						<img class="bp-image" data-target="line" src="images/breitnerpayne_production_line3.webp">
						<img class="bp-image" data-target="tour" src="images/breitnerpayne_labeler.webp">
						<div class="bp-hover-zone"></div>
						<div class="bp-sidebar-line">
							<div class="bp-sidebar-header" style="background: #18ba5f;">
								<div>
									<div class="flex gap-5 text-small">
										<img class="icon-tiny" src="images/icons/icon_conveyor_white.svg">
										<div>PRODUCTION LINE</div>
									</div>
									<div class="text-big">PRIMECOAT</div>
								</div>
								<div >
									<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
								</div>
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex align-center space-between">
										<div>
											<div class="flex gap-5 color-gray text-small">
												<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
												<div>STATUS</div>
											</div>
											<div class="text-big">
												RUNNING
											</div>
										</div>
										<div class="switch">
											<div style="background: #18ba5f; left: unset; right: 10%;"></div>
										</div>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>SINCE</div>
									</div>
									<div class="text-big">
										18:10h
									</div>
								</div>
							</div>
							<div class="bp-sidebar-content">
								
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
										<div>BATCH</div>
									</div>
									<div class="text-big">
										B456
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
										<div>PRODUCED</div>
									</div>
									<div class="text-big">
										631un <span class="text-small color-gray">(78%)</span>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
										<div>OBJECTIVE</div>
									</div>
									<div class="text-big">
										800un
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>DOWNTIME</div>
									</div>
									<div class="text-big">
										9s
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
										<div>OEE</div>
									</div>
									<div class="text-big">
										87%
									</div>
								</div>
								
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
										<div>MACHINES</div>
									</div>
									<div class="flex gap-5 wrap machines text-small margin-top-10">
										<div>FILLER <div></div></div>
										<div style="background: #ff3333">LABELER <div></div></div>
										<div>WEIGHER <div></div></div>
										<div>SEALER <div></div></div>
										<div>INSPECTOR <div></div></div>
										<div>WRAPPER <div></div></div>
										<div>PALLETIZER <div></div></div>
									</div>
								</div>
							</div>
						</div>
						<div class="bp-sidebar-tour">
							<div class="bp-sidebar-header" style="background: #ff3333;">
								<div>
									<div class="flex gap-5 text-small">
										<img class="icon-tiny" src="images/icons/icon_machine_white.svg">
										<div>MACHINE</div>
									</div>
									<div class="text-big">LABELER LSF11</div>
								</div>
								<div >
									<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
								</div>
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex align-center space-between">
										<div>
											<div class="flex gap-5 color-gray text-small">
												<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
												<div>STATUS</div>
											</div>
											<div class="text-big">
												STOPPED
											</div>
										</div>
										<div class="switch">
											<div></div>
										</div>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>SINCE</div>
									</div>
									<div class="text-big">
										19:23h
									</div>
								</div>
							</div>
							<div class="bp-sidebar-content">
								
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
										<div>BATCH</div>
									</div>
									<div class="text-big">
										B456
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
										<div>PRODUCED</div>
									</div>
									<div class="text-big">
										515un <span class="text-small color-gray">(64%)</span>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
										<div>OBJECTIVE</div>
									</div>
									<div class="text-big">
										800
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>DOWNTIME</div>
									</div>
									<div class="text-big">
										39min
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
										<div>OEE</div>
									</div>
									<div class="text-big">
										57%
									</div>
								</div>
								
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
										<div>MACHINES</div>
									</div>
									<div class="flex gap-5 wrap machines text-small margin-top-10">
										<div>FILLER <div></div></div>
										<div style="background: #ff3333">LABELER <div></div></div>
										<div>WEIGHER <div></div></div>
										<div>SEALER <div></div></div>
										<div>INSPECTOR <div></div></div>
										<div>WRAPPER <div></div></div>
										<div>PALLETIZER <div></div></div>
									</div>
								</div>
							</div>
						</div>
						<div class="bp-navbar">
							<img class="bp-icon selected" data-target="factory"
								data-description="Explore Breitner & Payne's paint factory in different levels.<br><a href='project_breitnerpayne.html'>GO TO PROJECT â†’</a>"
								src="images/icons/icon_factory_white.svg">

							<img class="bp-icon" data-target="line"
								data-description="Court-side seats to the production line.<br><a href='project_breitnerpayne.html'>GO TO PROJECT â†’</a>"
								src="images/icons/icon_conveyor_white.svg">

							<img class="bp-icon" data-target="tour"
								data-description="PPE required when walking on the shopfloor.<br><a href='project_breitnerpayne.html'>GO TO PROJECT â†’</a>"
								src="images/icons/icon_footprint_white.svg">
						</div>
					</div>
					<div class="feature_description"></div>
				</section>
				<a href="project_citadel.html">
					<img class="project-logo" src="images/logo_citadel.svg">
				</a>
				<div class="type">project</div>
				<section class="citadel">
					<img  src="images/citadel_layer0.webp">
					<img class="gsap-layer" src="images/citadel_layer1.webp">
					<img class="gsap-layer" src="images/citadel_layer2.webp">
					<img class="gsap-layer" src="images/citadel_layer3.webp">
					<img class="gsap-layer" src="images/citadel_layer4.webp">
					<!-- <img class="gsap-layer" src="images/citadel_layer6.png"> -->
					<div class="flip-click" id="citadel-play">
						<div class="flip-mask">
							<div class="default-text white-shadow">
								Start
							</div>
						</div>
					</div>
					<div class="dim">
						<div>
							<div class="title centered">
								<div>30 044 km<sup>2</sup></div>
							</div>
							<div class="buttons-row">
								<a href="project_citadel.html" class="button">
									<div class="flip-click">
										<div class="flip-mask">
											<div class="default-text white-shadow">
												GO TO PROJECT â†’
											</div>
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</section>
				<section>
					<a href="project_planoalto.html">
						<img class="project-logo" src="images/logo_planoalto.svg">
					</a>
					<div class="type">project</div>
					<div class="video">
						<svg class="play-button" id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302.05 302.05">
							<defs>
							<style>
								.cls-1 {
								opacity: 1;
								fill: #fff;
								}

								.cls-2 {
								fill: #000;
								}
							</style>
							</defs>
							<g id="Layer_1-2" data-name="Layer 1">
							<g>
								<path class="cls-2" d="m215.64,140.77c-.44-.23-.85-.49-1.28-.73-23.32-13.39-46.64-26.78-69.96-40.16-7.32-4.2-14.58-8.5-22-12.53-5.36-2.91-11.78-.74-13.98,4.42-.9,2.11-1.13,4.34-1.13,6.62.02,17.37.01,34.75.01,52.12,0,17.77-.06,35.53.02,53.3.04,9.44,8.3,14.37,16.26,9.78,30.7-17.69,61.31-35.52,92.1-53.03,7.2-4.1,10.03-14.56-.06-19.79Z"/>
								<path class="cls-1" d="m151.03,0C67.62,0,0,67.62,0,151.03s67.62,151.03,151.03,151.03,151.03-67.62,151.03-151.03S234.44,0,151.03,0Zm64.67,160.56c-30.79,17.51-61.41,35.35-92.1,53.03-7.96,4.59-16.22-.34-16.26-9.78-.08-17.77-.02-35.53-.02-53.3,0-17.37,0-34.75-.01-52.12,0-2.28.23-4.52,1.13-6.62,2.2-5.16,8.62-7.33,13.98-4.42,7.42,4.03,14.68,8.33,22,12.53,23.32,13.38,46.64,26.77,69.96,40.16.43.24.84.5,1.28.73,10.08,5.23,7.26,15.69.06,19.79Z"/>
							</g>
							</g>
						</svg>
						<img class="planoalto-video-placeholder" src="images/planoalto_03.webp">
					</div>
					<a href="project_planoalto.html" class="feature_description flip-click">
						A cinematic and interactive approach to architectural visualization in Hanover.<br>
						<div class="flip-mask">
							<div class="default-text">GO TO PROJECT â†’</div>
						</div>
					</a>
				</section>
				<section class="thousand">
					<a href="project_olivagiulianova.html">
						<img class="project-logo" src="images/logo_oliva2.svg">
					</a>
					<div class="type">project</div>
					<div class="title centered">An image is worth <br> a thousand words</div>
					<img alt="3d render of a house exterior" src="images/oliva_05.webp">
					<a href="project_olivagiulianova.html" class="feature_description flip-click">
						The owners of <i>Oliva Giulianova</i> don't save the best for last with this front yard pool.<br>
						<div class="flip-mask">
							<div class="default-text">GO TO PROJECT â†’</div>
						</div>
					</a>
				</section>
				<section class="dark full-width">
					<a href="project_planoalto.html">
						<img class="project-logo" src="images/logo_planoalto_white.svg">
					</a>
					<div class="type">project</div>
					<div class="video">
						<div class="hero-video">
							<div class="title centered">
								A movie is worth <br> a thousand images
							</div>
						</div>
						<video class="video-full-width" width="100%" height="100%" autoplay loop muted preload playsinline>
							<source src="videos/planoalto_teaser.mp4" type="video/mp4">
						</video>
					</div>
					<a href="project_planoalto.html" class="feature_description flip-click">
						Images alone won't cut it for this <i>Plano Alto</i> apartment unit.<br>
						<div class="flip-mask">
							<div class="default-text white-shadow">GO TO PROJECT â†’</div>
						</div>
					</a>
				</section>
				<section class="featured-projects">
					<div class="type">
						Featured projects
					</div>
					<div class="gallery">
							<a href="project_citadel.html">
								<img alt="3d render of a house" src="images/citadel_layer4.webp">
								<div class="pantone">
									4040 Citadel Park
								</div>
							</a>
							<a href="project_breitnerpayne.html">
								<img alt="3d render of a house" src="images/breitnerpayne_production_line2.webp">
								<div class="pantone">
									Breitner & Payne
								</div>
							</a>
							<a href="project_acrylichail.html">
								<img alt="3d render of a house" src="images/acrylichail_04.webp">
								<div class="pantone">
									Acrylic Hail
								</div>
							</a>
							<a href="project_electriccentury.html">
								<img alt="3d render of a house" src="images/electriccentury_03.webp">
								<div class="pantone">
									Electric Century
								</div>
							</a>
							<a href="project_planoalto.html">
								<img alt="3d render of a house" src="images/planoalto_04.webp">
								<div class="pantone">
									Plano Alto
								</div>
							</a>
							<a href="project_lidador.html">
								<img alt="3d render of a house" src="images/lidador_02.webp">
								<div class="pantone">
									Porto Lidador
								</div>
							</a>
							<a href="project_casaalmada.html">
								<img alt="3d render of a house" src="images/casaalmada_08.webp">
								<div class="pantone">
									Casa Almada
								</div>
							</a>
							<a href="project_olivagiulianova.html">
								<img alt="3d render of a house" src="images/oliva_03.webp">
								<div class="pantone">
									Oliva Giulianova
								</div>
							</a>
							<a href="project_casaornatoverde.html">
								<img alt="3d render of a house" src="images/casaornato_04.webp">
								<div class="pantone">
									Casa Ornato Verde
								</div>
							</a>
							<a href="project_maisonhaute.html">
								<img alt="3d render of a house" src="images/maisonhaute_03.webp">
								<div class="pantone">
									Maison Haute
								</div>
							</a>
							<a href="project_guntherhouse.html">
								<img alt="3d render of a house" src="images/guntherhouse_04.webp">
								<div class="pantone">
									Gunther House
								</div>
							</a>
					</div>
				</section>
				<section>
					<a href="project_acrylichail.html">
						<img class="project-logo" src="images/logo_acrylichail.svg">
					</a>
					<div class="type">project</div>
					<div id="panorama"></div>
					<a href="project_acrylichail.html" class="feature_description flip-click">
						The widest field of view there is. 360 degrees. <br>
						<div class="flip-mask">
							<div class="default-text">GO TO PROJECT â†’</div>
						</div>
					</a>
				</section>
				<section>
					<img alt="stable logo" class="logo_signature" src="images/logo_stable_short.svg">
				</section>
				<footer></footer>
			</div>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
	<script type="text/javascript" src="js/gsap.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
	<script type="text/javascript">
		$("nav").load("nav.html");
		$("footer").load("footer.html");

		//change nav color
		$(window).on('load', function() {
			var $nav = $('nav');
			var $navLinks = $('nav > a');
			var $logo = $('.logo > img');
			var heroBottom;

			function updateNav() {
				var $hero = $('.project-hero, .hero').first();

				if ($hero.length) {
					heroBottom = $hero.offset().top + $hero.outerHeight();
				} else {
					heroBottom = 0;
				}

				var scrollPosition = $(window).scrollTop();

				if (scrollPosition >= heroBottom - 60) {
					$nav.addClass('inverted');
				} else {
					$nav.removeClass('inverted');
				}
			}

			$(window).on('scroll', updateNav);
			$(window).on('resize', updateNav);
			updateNav(); // run once on load
		});

		//panorama
		pannellum.viewer('panorama', {
			"type": "equirectangular",
			"preview": "https://stablearchviz.com/images/acrylichail_03.webp",
			"panorama": "images/acrylichail_06.jpg",
			"showZoomCtrl": false,
			"keyboardZoom": false,
			"mouseZoom": false,
			"strings": {
				"loadButtonLabel": "Click to explore"
			}
		});

		// Play video
		$(document).ready(function(){
			$('.play-button').click(function(){
				var videoElement = $('<video>', {
					class: 'video-full-width',
					width: '100%',
					height: '100%',
					controls: true,
					autoplay: true,
					playsinline: true
				}).append($('<source>', {
					src: 'videos/planoalto_cinematic.mp4',
					type: 'video/mp4'
				}));

				// Replace image with video
				$('.planoalto-video-placeholder').replaceWith(videoElement);

				// Adjust aspect ratio for desktop
				if ($(window).width() > 800) {
					$('.video-container').css('aspect-ratio', 'unset');
				}

				// Hide play button
				$('.play-button').hide();

				// Start playing
				videoElement[0].play();
			});
		});

		//Citadel image sequence
		$(document).ready(function() {
			const $section = $(".citadel");
			const $images = $section.find(".gsap-layer");
			const $dim = $section.find(".dim"); // optional: still reveal if needed
			const $playBtn = $("#citadel-play");
			let sequenceStarted = false;

			// Hide all images and .dim initially
			$images.css("opacity", 0);
			$dim.css("display", "none");

			function startSequence() {
				sequenceStarted = true;

				$images.each(function(index) {
					setTimeout(() => {
						// Show current image
						$(this).css({
							"transition": "opacity 0.2s ease",
							"opacity": 1
						});
						// Hide previous image
						if (index > 0) {
							$images.eq(index - 1).css("opacity", 0);
						}

						// If last image, show .dim and change button text
						if (index === $images.length - 1) {
							setTimeout(() => {
								$dim.css("display", "block"); // optional
								$playBtn.text("Play again");
							}, 2000); // wait for fade-in
						}

					}, index * 2000); // 2s per image
				});
			}

			$playBtn.on("click", function() {
				// Reset images and .dim if replay
				$images.css("opacity", 0);
				$dim.css("display", "none");

				startSequence();
			});
		});

		// Breitner & Payne change view and sidebar
		$(document).ready(function() {

			function switchView($icon, $container) {
				let target = $icon.data("target");
				let description = $icon.data("description");

				// Update selected state
				$container.find(".bp-icon").removeClass("selected");
				$icon.addClass("selected");

				// Fade images
				$container.find(".bp-image:visible").fadeOut(150, function() {
					$container.find('.bp-image[data-target="' + target + '"]').fadeIn(150);
				});

				// Update text
				$container.next(".feature_description").fadeOut(150, function() {
					$(this).html(description).fadeIn(150);
				});

				// Sidebars
				$(".bp-sidebar-line, .bp-sidebar-tour").removeClass("visible");
				if (target === "line") {
					$(".bp-sidebar-line").addClass("visible");
				} else if (target === "tour") {
					$(".bp-sidebar-tour").addClass("visible");
				}
			}

			// Icon click
			$(".bp-icon").on("click", function() {
				let $container = $(this).closest(".bp-container");
				switchView($(this), $container);
			});

			// Hover zone: trigger only once on first enter
			$(".bp-hover-zone").one("mouseenter", function() {
				let $container = $(this).closest(".bp-container");
				let $lineIcon = $container.find('.bp-icon[data-target="line"]');
				switchView($lineIcon, $container);
			});

			// Initial state
			$(".bp-container").each(function() {
				let $container = $(this);
				let $first = $container.find(".bp-icon.selected");
				let firstTarget = $first.data("target");
				let firstDesc = $first.data("description");

				$container.find(".bp-image").hide();
				$container.find('.bp-image[data-target="' + firstTarget + '"]').show();
				$container.next(".feature_description").html(firstDesc);

				if (firstTarget === "line") {
					$(".bp-sidebar-line").addClass("visible");
				} else if (firstTarget === "tour") {
					$(".bp-sidebar-tour").addClass("visible");
				}
			});
		});

		// ---------- INDEX PAGE SPECIFIC NAV COLOR CHANGE ----------
		// Override the general nav function for index page with 500px trigger
		$(window).on('load', function() {
			var $nav = $('nav');
			var $logo = $('nav .logo');
			
			function updateIndexNav() {
				var scrollPosition = $(window).scrollTop();
				
				if (scrollPosition >= 300) {
					$nav.addClass('inverted');
					$logo.addClass("visible");
				} else {
					$nav.removeClass('inverted');
					$logo.removeClass("visible");
				}
			}
			
			$(window).on('scroll resize', updateIndexNav);
			updateIndexNav();
		});
	</script>
</body>
</html>
