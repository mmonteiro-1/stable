<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar" content="white">
	<meta name="theme-color" content="#fff">
	<meta name="description" content="A 3D architectural visualization studio home page specialized in interior and exterior computer generated imagery.">
	<link rel="apple-touch-icon" href="images/favicon/apple-touch-icon.png">
	<link rel="manifest" href="js/manifest.json">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;700;800&family=League+Spartan:wght@200;300;400;600;800&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Overpass+Mono:wght@300;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<script type="text/javascript" src="js/jquery.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	<link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
	<title>Stable</title>
</head>
<body>
	<style type="text/css">
		.video {
			height: 80vh;
		}
		@media (max-width: 800px) {
			.video {
				aspect-ratio: 1;
			}
		}
	</style>
	<nav></nav>
	<div id="butter" class="content">
		<div class="hero">
			<div class="title centered">I'll believe when I see it</div>
			<img alt="3d render of a house exterior" src="images/citadel_00.webp">
		</div>
		<div class="feature_description">
			<a href="project_citadel.html">GO TO PROJECT →</a>
		</div>
		<div class="dictionary stable">
			<div class="title">Stable</div>
			<div class="definition">1. An architectural visualization studio specialized in interior and exterior computer generated imagery and interactive experiences.</div>
			<div class="definition">2. A bridge from planning to seeing.</div>
		</div>
		<section class="width-100">
			<a href="project_breitnerpayne.html">
				<img class="project-logo" src="images/logo_breitnerpayne2.svg">
			</a>
			<div class="type">project</div>
			<div class="bp-container">
				<img class="bp-image" data-target="factory" src="images/breitnerpayne_aerial2_ui.webp">
				<img class="bp-image" data-target="line" src="images/breitnerpayne_production_line3.webp">
				<img class="bp-image" data-target="tour" src="images/breitnerpayne_labeler.webp">
				<div class="bp-hover-zone"></div>
				<div class="bp-sidebar-line">
					<div class="bp-sidebar-header" style="background: #18ba5f;">
						<div>
							<div class="flex gap-5 text-small">
								<img class="icon-tiny" src="images/icons/icon_conveyor_white.svg">
								<div>PRODUCTION LINE</div>
							</div>
							<div class="text-big">PRIMECOAT</div>
						</div>
						<div >
							<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
						</div>
					</div>
					<div class="bp-sidebar-content">
						<div>
							<div class="flex align-center space-between">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
										<div>STATUS</div>
									</div>
									<div class="text-big">
										RUNNING
									</div>
								</div>
								<div class="switch">
									<div style="background: #18ba5f; left: unset; right: 10%;"></div>
								</div>
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
								<div>SINCE</div>
							</div>
							<div class="text-big">
								18:10h
							</div>
						</div>
					</div>
					<div class="bp-sidebar-content">
						
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
								<div>BATCH</div>
							</div>
							<div class="text-big">
								B456
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
								<div>PRODUCED</div>
							</div>
							<div class="text-big">
								631un <span class="text-small color-gray">(78%)</span>
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
								<div>OBJECTIVE</div>
							</div>
							<div class="text-big">
								800un
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
								<div>DOWNTIME</div>
							</div>
							<div class="text-big">
								9s
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
								<div>OEE</div>
							</div>
							<div class="text-big">
								87%
							</div>
						</div>
						
					</div>
					<div class="bp-sidebar-content">
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
								<div>MACHINES</div>
							</div>
							<div class="flex gap-5 wrap machines text-small margin-top-10">
								<div>FILLER <div></div></div>
								<div style="background: #ff3333">LABELER <div></div></div>
								<div>WEIGHER <div></div></div>
								<div>SEALER <div></div></div>
								<div>INSPECTOR <div></div></div>
								<div>WRAPPER <div></div></div>
								<div>PALLETIZER <div></div></div>
							</div>
						</div>
					</div>
				</div>
				<div class="bp-sidebar-tour">
					<div class="bp-sidebar-header" style="background: #ff3333;">
						<div>
							<div class="flex gap-5 text-small">
								<img class="icon-tiny" src="images/icons/icon_machine_white.svg">
								<div>MACHINE</div>
							</div>
							<div class="text-big">LABELER LSF11</div>
						</div>
						<div >
							<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
						</div>
					</div>
					<div class="bp-sidebar-content">
						<div>
							<div class="flex align-center space-between">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
										<div>STATUS</div>
									</div>
									<div class="text-big">
										STOPPED
									</div>
								</div>
								<div class="switch">
									<div></div>
								</div>
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
								<div>SINCE</div>
							</div>
							<div class="text-big">
								19:23h
							</div>
						</div>
					</div>
					<div class="bp-sidebar-content">
						
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
								<div>BATCH</div>
							</div>
							<div class="text-big">
								B456
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
								<div>PRODUCED</div>
							</div>
							<div class="text-big">
								515un <span class="text-small color-gray">(64%)</span>
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
								<div>OBJECTIVE</div>
							</div>
							<div class="text-big">
								800
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
								<div>DOWNTIME</div>
							</div>
							<div class="text-big">
								39min
							</div>
						</div>
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
								<div>OEE</div>
							</div>
							<div class="text-big">
								57%
							</div>
						</div>
						
					</div>
					<div class="bp-sidebar-content">
						<div>
							<div class="flex gap-5 color-gray text-small">
								<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
								<div>MACHINES</div>
							</div>
							<div class="flex gap-5 wrap machines text-small margin-top-10">
								<div>FILLER <div></div></div>
								<div style="background: #ff3333">LABELER <div></div></div>
								<div>WEIGHER <div></div></div>
								<div>SEALER <div></div></div>
								<div>INSPECTOR <div></div></div>
								<div>WRAPPER <div></div></div>
								<div>PALLETIZER <div></div></div>
							</div>
						</div>
					</div>
				</div>
				<div class="bp-navbar-legend">Interactive navbar</div>
				<div class="bp-navbar">
					<img class="bp-icon selected" data-target="factory"
						data-description="Explore Breitner & Payne's paint factory in different levels.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
						src="images/icons/icon_factory_white.svg">

					<img class="bp-icon" data-target="line"
						data-description="Court-side seats to the production line.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
						src="images/icons/icon_conveyor_white.svg">

					<img class="bp-icon" data-target="tour"
						data-description="PPE required when walking on the shopfloor.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
						src="images/icons/icon_footprint_white.svg">
				</div>
			</div>
			<div class="feature_description"></div>
			<script>
				$(document).ready(function() {

					function switchView($icon, $container) {
						let target = $icon.data("target");
						let description = $icon.data("description");

						// Update selected state
						$container.find(".bp-icon").removeClass("selected");
						$icon.addClass("selected");

						// Fade images
						$container.find(".bp-image:visible").fadeOut(150, function() {
							$container.find('.bp-image[data-target="' + target + '"]').fadeIn(150);
						});

						// Update text
						$container.next(".feature_description").fadeOut(150, function() {
							$(this).html(description).fadeIn(150);
						});

						// Sidebars
						$(".bp-sidebar-line, .bp-sidebar-tour").removeClass("visible");
						if (target === "line") {
							$(".bp-sidebar-line").addClass("visible");
						} else if (target === "tour") {
							$(".bp-sidebar-tour").addClass("visible");
						}
					}

					// Icon click
					$(".bp-icon").on("click", function() {
						let $container = $(this).closest(".bp-container");
						switchView($(this), $container);
					});

					// Hover zone: trigger only once on first enter
					$(".bp-hover-zone").one("mouseenter", function() {
						let $container = $(this).closest(".bp-container");
						let $lineIcon = $container.find('.bp-icon[data-target="line"]');
						switchView($lineIcon, $container);
					});

					// Initial state
					$(".bp-container").each(function() {
						let $container = $(this);
						let $first = $container.find(".bp-icon.selected");
						let firstTarget = $first.data("target");
						let firstDesc = $first.data("description");

						$container.find(".bp-image").hide();
						$container.find('.bp-image[data-target="' + firstTarget + '"]').show();
						$container.next(".feature_description").html(firstDesc);

						if (firstTarget === "line") {
							$(".bp-sidebar-line").addClass("visible");
						} else if (firstTarget === "tour") {
							$(".bp-sidebar-tour").addClass("visible");
						}
					});
				});

			</script>
		</section>
		<div class="citadel-logo">
			<a href="project_citadel.html">
				<img class="project-logo" src="images/logo_citadel.svg">
			</a>
			<div class="type">project</div>
		</div>
		<section class="citadel">
			<img  src="images/citadel_layer0.webp">
			<img class="gsap-layer" src="images/citadel_layer1.webp">
			<img class="gsap-layer" src="images/citadel_layer2.webp">
			<img class="gsap-layer" src="images/citadel_layer3.webp">
			<img class="gsap-layer" src="images/citadel_layer4.webp">
			<img class="gsap-layer" src="images/citadel_layer6.png">
			<div class="gsap-layer dim">
				<div>
					<div class="title centered">
						<div>30 044 km<sup>2</sup></div>
					</div>
					<div class="buttons-row">
						<a href="project_citadel.html">
							<div class="button">
								Go to project
							</div>
						</a>
					</div>
				</div>
			</div>
			<div class="gsap-layer blank"></div>
			<div class="scroll-down">
				Scroll Down
			</div>
		</section>
		<section>
			<a href="project_planoalto.html">
				<img class="project-logo" src="images/logo_planoalto.svg">
			</a>
			<div class="type">project</div>
			<div class="video">
				<svg class="play-button" id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 302.05 302.05">
					<defs>
					<style>
						.cls-1 {
						opacity: 1;
						fill: #fff;
						}

						.cls-2 {
						fill: #000;
						}
					</style>
					</defs>
					<g id="Layer_1-2" data-name="Layer 1">
					<g>
						<path class="cls-2" d="m215.64,140.77c-.44-.23-.85-.49-1.28-.73-23.32-13.39-46.64-26.78-69.96-40.16-7.32-4.2-14.58-8.5-22-12.53-5.36-2.91-11.78-.74-13.98,4.42-.9,2.11-1.13,4.34-1.13,6.62.02,17.37.01,34.75.01,52.12,0,17.77-.06,35.53.02,53.3.04,9.44,8.3,14.37,16.26,9.78,30.7-17.69,61.31-35.52,92.1-53.03,7.2-4.1,10.03-14.56-.06-19.79Z"/>
						<path class="cls-1" d="m151.03,0C67.62,0,0,67.62,0,151.03s67.62,151.03,151.03,151.03,151.03-67.62,151.03-151.03S234.44,0,151.03,0Zm64.67,160.56c-30.79,17.51-61.41,35.35-92.1,53.03-7.96,4.59-16.22-.34-16.26-9.78-.08-17.77-.02-35.53-.02-53.3,0-17.37,0-34.75-.01-52.12,0-2.28.23-4.52,1.13-6.62,2.2-5.16,8.62-7.33,13.98-4.42,7.42,4.03,14.68,8.33,22,12.53,23.32,13.38,46.64,26.77,69.96,40.16.43.24.84.5,1.28.73,10.08,5.23,7.26,15.69.06,19.79Z"/>
					</g>
					</g>
				</svg>
				<img class="planoalto-video-placeholder" src="images/planoalto_03.webp">
				<!-- <video class="video-full-width" width="100%" height="100%" autoplay loop muted preload playsinline>
					<source src="videos/planoalto_loop.mp4" type="video/mp4">
				</video> -->
			</div>
			<div class="feature_description">
				A cinematic and interactive approach to architectural visualization in Hanover.<br>
				<a href="project_planoalto.html">GO TO PROJECT →</a>
			</div>
		</section>
		<section class="thousand">
			<a href="project_electriccentury.html">
				<img class="project-logo" src="images/logo_electriccentury.svg">
			</a>
			<div class="type">project</div>
			<div class="title centered">An image is worth <br> a thousand words</div>
			<img alt="3d render of a house exterior" src="images/oliva_05.webp">
			<div class="feature_description">
				The owners of <i>Oliva Giulianova</i> don't save the best for last with this front yard pool.<br>
				<a href="project_olivagiulianova.html">GO TO PROJECT →</a>
			</div>
		</section>
		<section class="dark full-width">
			<a href="project_planoalto.html">
				<img class="project-logo" src="images/logo_planoalto_white.svg">
			</a>
			<div class="type">project</div>
			<div class="video">
				<div class="hero-video">
					<div class="title centered">
						A movie is worth <br> a thousand images
					</div>
				</div>
				<video class="video-full-width" width="100%" height="100%" autoplay loop muted preload playsinline>
					<source src="videos/planoalto_teaser.mp4" type="video/mp4">
				</video>
			</div>
			<div class="feature_description">
				Images alone won't cut it for this <i>Plano Alto</i> apartment unit.<br>
				<a href="project_planoalto.html">GO TO PROJECT →</a>
			</div>
		</section>
		<section class="featured-projects">
			<div class="type">
				Featured projects
			</div>
			<div class="gallery">
				<div>
					<a href="project_lidador.html">
						<img alt="3d render of a house" src="images/lidador_04.webp">
						<div class="pantone">
							PORTO LIDADOR
						</div>
					</a>
				</div>
				<div>
					<a href="project_casaalmada.html">
						<img alt="3d render of a house" src="images/casaalmada_01.webp">
						<div class="pantone">
							CASA ALMADA
						</div>
					</a>
				</div>
				<div>
					<a href="project_electriccentury.html">
						<img alt="3d render of a house" src="images/electriccentury_01.webp">
						<div class="pantone">
							ELECTRIC CENTURY
						</div>
					</a>
				</div>
				<div>
					<a href="project_acrylichail.html">
						<img alt="3d render of a house" src="images/acrylichail_04.webp">
						<div class="pantone">
							ACRYLIC HAIL
						</div>
					</a>
				</div>
			</div>
		</section>
		<section>
			<a href="project_acrylichail.html">
				<img class="project-logo" src="images/logo_acrylichail.svg">
			</a>
			<div class="type">project</div>
			<div id="panorama"></div>
			<div class="feature_description">
				The widest field of view there is. 360 degrees. <br>
				<a href="project_acrylichail.html">GO TO PROJECT →</a>
			</div>
		</section>
		<section>
			<img alt="stable logo" class="logo_signature" src="images/logo_stable_short.svg">
		</section>
		<footer></footer>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
	<script type="text/javascript" src="js/gsap.js"></script>
	<script src="js/butter.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
	<script type="text/javascript">
		$("nav").load("nav.html");
		$("footer").load("footer.html");
		/*butter.init();*/

		//panorama
		pannellum.viewer('panorama', {
			"type": "equirectangular",
			"preview": "https://stablearchviz.com/images/acrylichail_03.webp",
			"panorama": "images/acrylichail_06.jpg",
			"showZoomCtrl": false,
			"keyboardZoom": false,
			"mouseZoom": false,
			"strings": {
				"loadButtonLabel": "Click to explore"
			}
		});

		// Play video
		$(document).ready(function(){
			$('.play-button').click(function(){
				var videoElement = $('<video>', {
					class: 'video-full-width',
					width: '100%',
					height: '100%',
					controls: true,
					autoplay: true,
					playsinline: true
				}).append($('<source>', {
					src: 'videos/planoalto_cinematic.mp4',
					type: 'video/mp4'
				}));

				// Replace image with video
				$('.planoalto-video-placeholder').replaceWith(videoElement);

				// Adjust aspect ratio for desktop
				if ($(window).width() > 800) {
					$('.video-container').css('aspect-ratio', 'unset');
				}

				// Hide play button
				$('.play-button').hide();

				// Start playing
				videoElement[0].play();
			});
		});


		//change nav color
		$(window).on('load', function() {
			var $nav = $('nav');
			var $navLinks = $('nav > a');
			var $logo = $('.logo > img');
			var heroBottom;

			function setInitialNavStyle() {
				$nav.css('background-color', '#1b1c1b');
				$navLinks.css('color', '#f2f2f2');
				$logo.attr('src', 'images/logo_stable_inverted.svg');
			}

			function updateNav() {
				heroBottom = $('.hero').offset().top + $('.hero').outerHeight();
				var scrollPosition = $(window).scrollTop();

				if (scrollPosition >= heroBottom - 60) {
					$nav.css('background-color', '#fff');
					$navLinks.css('color', '#232323');
					$logo.attr('src', 'images/logo_stable.svg');
				} else {
					$nav.css('background-color', '#1b1c1b');
					$navLinks.css('color', '#fff');
					$logo.attr('src', 'images/logo_stable_inverted.svg');
				}
			}

			setInitialNavStyle();

			$(window).on('scroll', updateNav);

			$(window).on('resize', updateNav);
		});

		//hero title parallax
		gsap.registerPlugin(ScrollTrigger);

		ScrollTrigger.matchMedia({
			"(min-width: 801px)": function () {
				gsap.to(".hero > .title", {
					yPercent: -300,
					ease: "none",
					scrollTrigger: {
						trigger: ".hero",
						start: "top 60px",
						end: "center center",
						scrub: 1,
					}
				});
			}
		});

		// Select the section
		const citadelSection = document.querySelector('.citadel');

		// Create timeline
		const tl = gsap.timeline({
			scrollTrigger: {
				trigger: citadelSection,
				start: 'center center', // Start when the bottom of .citadel hits the bottom of the viewport
				end: '+=4000', // Adjust this to control how long the animation lasts
				scrub: true, // Optional: for smooth scrubbing
				pin: true, // Pin the section
				once: true, // Plays animation only on the way down
				onLeave: function (self) { // Removes white space above left from animation
					console.log("left");
					let start = self.start;
					self.scroll(self.start);
					self.disable();
					self.animation.progress(1);
					ScrollTrigger.refresh();
					window.scrollTo(0, start);
				}
			},
		});

		// Animate each image
		const images = document.querySelectorAll('.citadel .gsap-layer');
		images.forEach((image, index) => {
			tl.to(image, {
				opacity: 1, // Adjust opacity as needed
				duration: 5, // Duration for each image's animation
				ease: 'power2.inOut', // Apply easing
				delay: index * 0.5, // Stagger the animations
			});
		});
	</script>
</body>
</html>
