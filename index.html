<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar" content="white">
	<meta name="theme-color" content="#fff">
	<meta name="description" content="A 3D architectural visualization studio home page specialized in interior and exterior computer generated imagery.">
	<link rel="apple-touch-icon" href="images/favicon/apple-touch-icon.png">
	<link rel="manifest" href="js/manifest.json">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;700;800&family=League+Spartan:wght@200;300;400;600;800&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Overpass+Mono:wght@300;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<script type="text/javascript" src="js/jquery.js"></script>
	<link rel="icon" type="image/x-icon" href="images/favicon/favicon.ico">
	<title>Stable</title>
</head>
<body>
	<div id="loading-screen">
		<div class="loading-progress-bar">
			<div class="loading-progress-fill"></div>
		</div>
		<div class="loading-content">
			<video autoplay loop muted playsinline class="loading-video">
				<source src="videos/stable_logo_loop.mp4" type="video/mp4">
			</video>
		</div>
	</div>
	<style type="text/css">
		.video {
			height: 80vh;
		}
		.logo-stable-white {
			display: none; /* prevent having two logos next to each other on page top */
		}
		@media (max-width: 800px) {
			nav .logo {
				opacity: 0;
				pointer-events: none; 
				transition: opacity 0.3s ease;
			}

			nav .logo.visible {
				opacity: 1;
				pointer-events: auto;
			}
		}
	</style>
	<nav></nav>
	<div class="smooth-wrapper">
		<div class="smooth-content">
			<div class="content">
				<div class="hero">
					<img class="hero-logo" src="images/logo_stable_white.svg" alt="">
					<img class="hero-bg" alt="3d render of a house exterior" src="images/citadel_00.webp">
				</div>
				<a href="project_citadel.html">
					<div class="flip-click margin-top-10">
						<div class="flip-mask">
						<div class="default-text">GO TO PROJECT →</div>
					</div>
					</div>
				</a>
				<div class="dictionary-stable">
					<div>
						<div class="title">Stable</div>
						<div class="definition">1. An architectural visualization studio specialized in interior and exterior computer-generated imagery and interactive experiences.</div>
						<div class="definition">2. A bridge from planning to seeing.</div>
					</div>
				</div>
				<section class="width-100">
					<a href="project_breitnerpayne.html">
						<img class="project-logo" src="images/logo_breitnerpayne2.svg">
					</a>
					<div class="type">project</div>
					<div class="bp-container">
						<img class="bp-image" data-target="factory" src="images/breitnerpayne_aerial2_ui.webp">
						<img class="bp-image" data-target="line" src="images/breitnerpayne_production_line3.webp">
						<img class="bp-image" data-target="tour" src="images/breitnerpayne_labeler.webp">
						<div class="bp-hover-zone"></div>
						<div class="bp-sidebar-line">
							<div class="bp-sidebar-header" style="background: #18ba5f;">
								<div>
									<div class="flex gap-5 text-small">
										<img class="icon-tiny" src="images/icons/icon_conveyor_white.svg">
										<div>PRODUCTION LINE</div>
									</div>
									<div class="text-big">PRIMECOAT</div>
								</div>
								<div >
									<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
								</div>
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex align-center space-between">
										<div>
											<div class="flex gap-5 color-gray text-small">
												<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
												<div>STATUS</div>
											</div>
											<div class="text-big">
												RUNNING
											</div>
										</div>
										<div class="switch">
											<div style="background: #18ba5f; left: unset; right: 10%;"></div>
										</div>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>SINCE</div>
									</div>
									<div class="text-big">
										18:10h
									</div>
								</div>
							</div>
							<div class="bp-sidebar-content">
								
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
										<div>BATCH</div>
									</div>
									<div class="text-big">
										B456
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
										<div>PRODUCED</div>
									</div>
									<div class="text-big">
										631 units <span class="text-small color-gray">(78%)</span>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
										<div>TARGET</div>
									</div>
									<div class="text-big">
										800 units
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>DOWNTIME</div>
									</div>
									<div class="text-big">
										9s
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
										<div>OEE</div>
									</div>
									<div class="text-big">
										87%
									</div>
								</div>
								
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
										<div>MACHINES</div>
									</div>
									<div class="flex gap-5 wrap machines text-small margin-top-10">
										<div>FILLER <div></div></div>
										<div style="background: #ff3333">LABELER <div></div></div>
										<div>WEIGHER <div></div></div>
										<div>SEALER <div></div></div>
										<div>INSPECTOR <div></div></div>
										<div>WRAPPER <div></div></div>
										<div>PALLETIZER <div></div></div>
									</div>
								</div>
							</div>
						</div>
						<div class="bp-sidebar-tour">
							<div class="bp-sidebar-header" style="background: #ff3333;">
								<div>
									<div class="flex gap-5 text-small">
										<img class="icon-tiny" src="images/icons/icon_machine_white.svg">
										<div>MACHINE</div>
									</div>
									<div class="text-big">LABELER LSF11</div>
								</div>
								<div >
									<img style="height: 20px" src="images/icons/icon_xmark_circle_white.svg">
								</div>
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex align-center space-between">
										<div>
											<div class="flex gap-5 color-gray text-small">
												<img class="icon-tiny opacity-40" src="images/icons/icon_play_pause_white.svg">
												<div>STATUS</div>
											</div>
											<div class="text-big">
												STOPPED
											</div>
										</div>
										<div class="switch">
											<div></div>
										</div>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>SINCE</div>
									</div>
									<div class="text-big">
										19:23h
									</div>
								</div>
							</div>
							<div class="bp-sidebar-content">
								
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_layers_white.svg">
										<div>BATCH</div>
									</div>
									<div class="text-big">
										B456
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_boxes_white.svg">
										<div>PRODUCED</div>
									</div>
									<div class="text-big">
										515 units <span class="text-small color-gray">(64%)</span>
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_target_white.svg">
										<div>TARGET</div>
									</div>
									<div class="text-big">
										800 units
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_stopwatch_white.svg">
										<div>DOWNTIME</div>
									</div>
									<div class="text-big">
										39min
									</div>
								</div>
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_chart_white.svg">
										<div>OEE</div>
									</div>
									<div class="text-big">
										57%
									</div>
								</div>
								
							</div>
							<div class="bp-sidebar-content">
								<div>
									<div class="flex gap-5 color-gray text-small">
										<img class="icon-tiny opacity-40" src="images/icons/icon_machine_white.svg">
										<div>MACHINES</div>
									</div>
									<div class="flex gap-5 wrap machines text-small margin-top-10">
										<div>FILLER <div></div></div>
										<div style="background: #ff3333">LABELER <div></div></div>
										<div>WEIGHER <div></div></div>
										<div>SEALER <div></div></div>
										<div>INSPECTOR <div></div></div>
										<div>WRAPPER <div></div></div>
										<div>PALLETIZER <div></div></div>
									</div>
								</div>
							</div>
						</div>
						<div class="bp-navbar">
							<img class="bp-icon selected" data-target="factory"
								data-description="Explore Breitner & Payne's paint factory in different levels.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
								src="images/icons/icon_factory_white.svg">

							<img class="bp-icon" data-target="line"
								data-description="Courtside seats to the production line.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
								src="images/icons/icon_conveyor_white.svg">

							<img class="bp-icon" data-target="tour"
								data-description="PPE required on the shop floor view.<br><a href='project_breitnerpayne.html'>GO TO PROJECT →</a>"
								src="images/icons/icon_footprint_white.svg">
						</div>
					</div>
					<div class="feature_description"></div>
				</section>
				<a href="project_citadel.html">
					<img class="project-logo" src="images/logo_citadel.svg">
				</a>
				<div class="type">project</div>
				<section class="citadel">
					<div class="pagination-wrapper">
						<div class="pagination">
							<div class="current" data-index="0"></div>
							<div data-index="1"></div>
							<div data-index="2"></div>
							<div data-index="3"></div>
						</div>
						<div class="play-pause-btn paused"></div>
					</div>
					<img  src="images/citadel_layer0.webp">
					<img class="gsap-layer" src="images/citadel_layer1.webp" data-index="0">
					<img class="gsap-layer" src="images/citadel_layer2.webp" data-index="1">
					<img class="gsap-layer" src="images/citadel_layer3.webp" data-index="2">
					<img class="gsap-layer" src="images/citadel_layer4.webp" data-index="3">
					<div class="dim">
						<div>
							<div class="title centered">
								<div>30 044 km<sup>2</sup></div>
							</div>
							<div class="buttons-row">
								<a href="project_citadel.html" class="button">
									<div class="white-shadow">
										GO TO PROJECT →
									</div>
								</a>
							</div>
						</div>
					</div>
				</section>

				<section>
					<a href="project_lidador.html">
						<img class="project-logo" src="images/logo_lidador.svg">
					</a>
					<div class="type">project</div>
					<div class="three-display" id="three-container">
						<div class="three-overlay" id="three-overlay">
							<div>CLICK TO EXPLORE</div>
						</div>
						<div class="three-ui ">
							<div class="button-ui">
								<div>
									<img class="three-icon-desktop" src="images/icons/icon_mouse_left_white.svg">
									<img class="three-icon-mobile" src="images/icons/icon_finger_orbit_white.svg">
									<div>ORBIT</div>
								</div>
								<div>
									<img class="three-icon-desktop" src="images/icons/icon_mouse_right_white.svg">
									<img class="three-icon-mobile" src="images/icons/icon_finger_pan_white.svg">
									<div>PAN</div>
								</div>
								<div>
									<img class="three-icon-desktop" src="images/icons/icon_mouse_scroll_white.svg">
									<img class="three-icon-mobile" src="images/icons/icon_finger_zoom_white.svg">
									<div>ZOOM</div>
								</div>
							</div>
						</div>
					</div>
					<a href="project_lidador.html">
						<div class="flip-click margin-top-10">
							Cubes are boring.<br>
							<div class="flip-mask">
								<div class="default-text">GO TO PROJECT →</div>
							</div>
						</div>
					</a>
				</section>
				<section>
					<a href="project_planoalto.html">
						<img class="project-logo" src="images/logo_planoalto.svg">
					</a>
					<div class="type">project</div>
					<div class="video">
						<div class="watch-button" id="watch-planoalto">
							<div class="button">
								<div class="flip-click" style="margin-top: 0;">
									<div class="flip-mask">
										<div class="default-text white-shadow">
											WATCH VIDEO
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="watch-button youtube-bypass">
							<a href="https://www.youtube.com/watch?v=H3fiQQPz9Tg">
								<div class="button">
									WATCH VIDEO
								</div>
							</a>
						</div>
						<img class="planoalto-video-placeholder" src="images/planoalto_03.webp">
					</div>
					<a href="project_planoalto.html">
						<div class="flip-click margin-top-10">
							A cinematic and interactive approach to architectural visualization in Hanover.<br>
							<div class="flip-mask">
								<div class="default-text">GO TO PROJECT →</div>
							</div>
						</div>
					</a>
				</section>
				<section class="thousand">
					<div class="title centered">An image is worth <br> a thousand words</div>
					<img alt="3d render of a kitchen" src="images/guntherhouse_02.webp">
					<a href="project_guntherhouse.html">
						<div class="flip-click margin-top-10">
							<div class="flip-mask">
								<div class="default-text">GO TO PROJECT →</div>
							</div>
						</div>
					</a>
				</section>
				<section class="dark full-width">
					<a href="project_planoalto.html">
						<img class="project-logo" src="images/logo_planoalto_white.svg">
					</a>
					<div class="type">project</div>
					<div class="video">
						<div class="hero-video">
							<div class="title centered">
								A movie is worth <br> a thousand images
							</div>
						</div>
						<video class="video-full-width" width="100%" height="100%" autoplay loop muted preload playsinline>
							<source src="videos/planoalto_teaser.mp4" type="video/mp4">
						</video>
					</div>
					<a href="project_planoalto.html">
						<div class="flip-click margin-top-10">
							<div class="flip-mask">
								<div class="default-text white-shadow">GO TO PROJECT →</div>
							</div>
						</div>
					</a>
				</section>
				<section class="featured-projects">
					<div class="type">
						Featured projects
					</div>
					<div class="gallery">
							<a href="project_citadel.html">
								<img alt="3d render of a house" src="images/citadel_04.webp">
								<div class="pantone">
									4040 Citadel Park
								</div>
							</a>
							<a href="project_breitnerpayne.html">
								<img alt="3d render of a house" src="images/breitnerpayne_production_line2.webp">
								<div class="pantone">
									Breitner & Payne
								</div>
							</a>
							<a href="project_acrylichail.html">
								<img alt="3d render of a house" src="images/acrylichail_04.webp">
								<div class="pantone">
									Acrylic Hail
								</div>
							</a>
							<a href="project_electriccentury.html">
								<img alt="3d render of a house" src="images/electriccentury_03.webp">
								<div class="pantone">
									Electric Century
								</div>
							</a>
							<a href="project_planoalto.html">
								<img alt="3d render of a house" src="images/planoalto_04.webp">
								<div class="pantone">
									Plano Alto
								</div>
							</a>
							<a href="project_lidador.html">
								<img alt="3d render of a house" src="images/lidador_02.webp">
								<div class="pantone">
									Porto Lidador
								</div>
							</a>
							<a href="project_casaalmada.html">
								<img alt="3d render of a house" src="images/casaalmada_08.webp">
								<div class="pantone">
									Casa Almada
								</div>
							</a>
							<a href="project_olivagiulianova.html">
								<img alt="3d render of a house" src="images/oliva_03.webp">
								<div class="pantone">
									Oliva Giulianova
								</div>
							</a>
							<a href="project_casaornatoverde.html">
								<img alt="3d render of a house" src="images/casaornato_04.webp">
								<div class="pantone">
									Casa Ornato Verde
								</div>
							</a>
							<a href="project_maisonhaute.html">
								<img alt="3d render of a house" src="images/maisonhaute_03.webp">
								<div class="pantone">
									Maison Haute
								</div>
							</a>
							<a href="project_guntherhouse.html">
								<img alt="3d render of a house" src="images/guntherhouse_04.webp">
								<div class="pantone">
									Gunther House
								</div>
							</a>
					</div>
				</section>
				<section>
					<img alt="stable logo" class="logo_signature" src="images/logo_stable_short.svg">
				</section>
				<footer></footer>
			</div>
		</div>
	</div>
	<div id="video-overlay" style="display: none;">
		<div id="video-container"></div>
		<div id="video-close"></div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
	<script type="text/javascript" src="js/navigation.js"></script>
	<script src="js/jquery.imageviewer.js"></script>
	
	<!-- Three.js libraries -->
	<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.js"></script>
	<script src="js/ThreeJS/helpers.js"></script>
	<script src="js/ThreeJS/threejs_lidador.js"></script>
	<script type="text/javascript">
		$("nav").load("nav.html");
		$("footer").load("footer.html");

		// Create Iframe for Plano Alto video
		function createIframes() {
			var videoContainer = document.getElementById("video-container");

			// Create Plano Alto Cinematic Iframe (same as Citadel cinematic)
			var planoaltoIframe = document.createElement("iframe");
			planoaltoIframe.id = "planoalto-video";
			planoaltoIframe.width = "100%";
			planoaltoIframe.height = "100%";
			planoaltoIframe.src = "https://www.youtube.com/embed/H3fiQQPz9Tg?si=i1x70bpIw_q5xSRp&rel=0";
			planoaltoIframe.title = "YouTube video player";
			planoaltoIframe.frameBorder = "0";
			planoaltoIframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
			planoaltoIframe.referrerPolicy = "strict-origin-when-cross-origin";
			planoaltoIframe.allowFullscreen = true;
			planoaltoIframe.style.display = "none";
			videoContainer.appendChild(planoaltoIframe);
		}

		// Load the iframe after the page has loaded
		if (window.addEventListener) {
			window.addEventListener("load", createIframes, false);
		} else if (window.attachEvent) {
			window.attachEvent("onload", createIframes);
		} else {
			window.onload = createIframes;
		}

		$(document).ready(function() {
			$('#watch-planoalto').click(function() {
				var videoType = $(this).attr('id').split('-')[1];
				$('#video-overlay').show();
				$('#' + videoType + '-video').show().siblings('iframe').hide();
				$('body').addClass('no-scroll');
				$('nav').hide();
			});

			$('#video-close').click(function() {
				$('#video-overlay').hide();
				$('#video-container iframe').each(function() {
					this.src = this.src;
				});
				$('body').removeClass('no-scroll');
				$('nav').show();
			});
		});

		//CITADEL IMAGE SEQUENCE
		$(document).ready(function() {
			const section = $(".citadel");
			const images = section.find(".gsap-layer");
			const dim = section.find(".dim");
			const playPauseBtn = $(".play-pause-btn");
			const paginationDots = $(".pagination div");
			
			let autoplayTimeout;
			let isPlaying = false;
			let currentIndex = -1;

			// Hide all images and dim initially
			images.css("opacity", 0);
			dim.css("display", "none");

			// Show a specific layer
			function showLayer(index) {
				if (index < 0 || index >= images.length) return;
				
				// Hide all layers
				images.css("opacity", 0);
				
				// Show all layers up to and including the target index
				images.each(function(i) {
					if (i <= index) {
						$(this).css("opacity", 1);
					}
				});
				
				currentIndex = index;
				
				// Update pagination - force reflow to restart animation
				paginationDots.removeClass("current");
				// Force a reflow to restart the CSS animation
				void paginationDots[0].offsetWidth;
				paginationDots.eq(index).addClass("current");
				
				// Show dim overlay on last layer
				if (index === images.length - 1) {
					setTimeout(() => {
						dim.css("display", "flex");
					}, 3000);
				} else {
					dim.css("display", "none");
				}
			}

			// Go to next layer
			function nextLayer() {
				let nextIndex = currentIndex + 1;
				if (nextIndex >= images.length) {
					// Stop autoplay when reaching the end
					pause();
					return;
				}
				showLayer(nextIndex);
			}

			// Autoplay function
			function autoplay() {
				if (!isPlaying) return;
				
				nextLayer();
				
				// Check if we just showed the last layer
				if (currentIndex >= images.length - 1) {
					// Stop autoplay after showing the last layer
					setTimeout(() => {
						pause();
					}, 3000);
				} else {
					autoplayTimeout = setTimeout(() => {
						autoplay();
					}, 3000);
				}
			}

			// Play
			function play() {
				isPlaying = true;
				playPauseBtn.removeClass("paused").addClass("playing");
				
				// If we're at the end or haven't started, restart from beginning
				if (currentIndex === -1 || currentIndex === images.length - 1) {
					images.css("opacity", 0);
					dim.css("display", "none");
					currentIndex = -1;
					
					// Show first layer immediately
					showLayer(0);
					
					// Start autoplay from second layer
					autoplayTimeout = setTimeout(() => {
						autoplay();
					}, 3000);
				} else {
					// Continue from current position
					autoplay();
				}
			}

			// Pause
			function pause() {
				isPlaying = false;
				playPauseBtn.removeClass("playing").addClass("paused");
				clearTimeout(autoplayTimeout);
			}

			// Play/Pause button click
			playPauseBtn.on("click", function() {
				if (isPlaying) {
					pause();
				} else {
					play();
				}
			});

			// Pagination dot clicks
			paginationDots.on("click", function() {
				const index = parseInt($(this).data("index"));
				
				// Reset all layers first
				images.css("opacity", 0);
				
				showLayer(index);
				
				// Restart autoplay if playing
				if (isPlaying) {
					clearTimeout(autoplayTimeout);
					autoplayTimeout = setTimeout(() => {
						autoplay();
					}, 3000);
				}
			});
		});

		// Breitner & Payne change view and sidebar
		$(document).ready(function() {

			function switchView(icon, container) {
				let target = icon.data("target");
				let description = icon.data("description");

				// Update selected state
				container.find(".bp-icon").removeClass("selected");
				icon.addClass("selected");

				// Fade images
				container.find(".bp-image:visible").fadeOut(150, function() {
					container.find('.bp-image[data-target="' + target + '"]').fadeIn(150);
				});

				// Update text
				container.next(".feature_description").fadeOut(150, function() {
					$(this).html(description).fadeIn(150);
				});

				// Sidebars
				$(".bp-sidebar-line, .bp-sidebar-tour").removeClass("visible");
				if (target === "line") {
					$(".bp-sidebar-line").addClass("visible");
				} else if (target === "tour") {
					$(".bp-sidebar-tour").addClass("visible");
				}
			}

			// Icon click
			$(".bp-icon").on("click", function() {
				let container = $(this).closest(".bp-container");
				switchView($(this), container);
			});

			// Hover zone: trigger only once on first enter
			$(".bp-hover-zone").one("mouseenter", function() {
				let container = $(this).closest(".bp-container");
				let lineIcon = container.find('.bp-icon[data-target="line"]');
				switchView(lineIcon, container);
			});

			// Initial state
			$(".bp-container").each(function() {
				let container = $(this);
				let first = container.find(".bp-icon.selected");
				let firstTarget = first.data("target");
				let firstDesc = first.data("description");

				container.find(".bp-image").hide();
				container.find('.bp-image[data-target="' + firstTarget + '"]').show();
				container.next(".feature_description").html(firstDesc);

				if (firstTarget === "line") {
					$(".bp-sidebar-line").addClass("visible");
				} else if (firstTarget === "tour") {
					$(".bp-sidebar-tour").addClass("visible");
				}
			});
		});

		// Override the general nav function for index page with 500px trigger
		$(window).on('load', function() {
			var nav = $('nav');
			var logo = $('nav .logo');
			
			function updateIndexNav() {
				var scrollPosition = $(window).scrollTop();
				
				if (scrollPosition >= 300) {
					nav.addClass('inverted');
					logo.addClass("visible");
				} else {
					nav.removeClass('inverted');
					logo.removeClass("visible");
				}
			}
			
			$(window).on('scroll resize', updateIndexNav);
			updateIndexNav();
		});
	</script>
	<script src="js/loading_screen.js"></script>
</body>
</html>
